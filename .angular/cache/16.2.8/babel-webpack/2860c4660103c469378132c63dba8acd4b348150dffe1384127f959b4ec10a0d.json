{"ast":null,"code":"import { concat } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/pokemon.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction ListComponent_div_13_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const type_r5 = ctx.$implicit;\n    const pokemon_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵclassMapInterpolate1(\"badge border rounded-pill me-1 bg-\", ctx_r4.getType(pokemon_r2), \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 4, type_r5.type.name), \" \");\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/view\", a1];\n};\nfunction ListComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13)(2, \"div\", 14)(3, \"div\", 5)(4, \"div\", 15)(5, \"h3\", 16);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, ListComponent_div_13_span_8_Template, 3, 6, \"span\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 18);\n    i0.ɵɵelement(10, \"img\", 19);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const pokemon_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"card mb-3 bg-\", ctx_r0.getType(pokemon_r2), \"\");\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(9, _c0, pokemon_r2.name));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 7, pokemon_r2.name));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", pokemon_r2.types);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/\", pokemon_r2.id, \".png\", i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ListComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 20);\n  }\n}\nexport class ListComponent {\n  constructor(pokemonService) {\n    this.pokemonService = pokemonService;\n    this.loading = false;\n    this.subscriptions = [];\n  }\n  get pokemons() {\n    return this.pokemonService.pokemons;\n  }\n  set subscription(subscription) {\n    this.subscriptions.push(subscription);\n  }\n  ngOnInit() {\n    if (!this.pokemons.length) {\n      this.loadMore();\n    }\n  }\n  ngOnDestroy() {\n    this.subscriptions.forEach(subscription => subscription ? subscription.unsubscribe() : 0);\n  }\n  loadMore() {\n    this.loading = true;\n    this.subscription = this.pokemonService.getNext().subscribe(response => {\n      this.pokemonService.next = response.next;\n      const details = response.results.map(i => this.pokemonService.get(i.name));\n      this.subscription = concat(...details).subscribe(response => {\n        this.pokemonService.pokemons.push(response);\n      });\n    }, error => console.log('Error Occurred:', error), () => this.loading = false);\n  }\n  getType(pokemon) {\n    return this.pokemonService.getType(pokemon);\n  }\n  static #_ = this.ɵfac = function ListComponent_Factory(t) {\n    return new (t || ListComponent)(i0.ɵɵdirectiveInject(i1.PokemonService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListComponent,\n    selectors: [[\"app-list\"]],\n    decls: 19,\n    vars: 3,\n    consts: [[1, \"navbar\", \"navbar-expand-lg\", \"navbar-dark\", \"bg-dark\"], [\"src\", \"./assets/pikachu.png\", \"alt\", \"pikachu\", \"height\", \"50px\", \"width\", \"50px\"], [1, \"container-fluid\"], [\"href\", \"#\", 1, \"navbar-brand\"], [1, \"container\", \"my-5\"], [1, \"row\"], [1, \"col-xl-8\", \"offset-xl-2\"], [1, \"mb-1\", 2, \"color\", \"rgb(246, 237, 62)\"], [\"class\", \"col-md-6\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-sm\", \"text-center\"], [1, \"btn\", \"btn-sm\", \"btn-secondary\", 3, \"click\"], [\"class\", \"spinner-border spinner-border-sm\", \"role\", \"status\", 4, \"ngIf\"], [1, \"col-md-6\"], [3, \"routerLink\"], [1, \"card-body\"], [1, \"col-7\", \"col-sm-8\"], [1, \"card-title\"], [3, \"class\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-5\", \"col-sm-4\"], [\"alt\", \"\", 1, \"img-fluid\", 3, \"src\"], [\"role\", \"status\", 1, \"spinner-border\", \"spinner-border-sm\"]],\n    template: function ListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"nav\", 0);\n        i0.ɵɵelement(1, \"img\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"a\", 3)(4, \"h2\");\n        i0.ɵɵtext(5, \"PokedexApp\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"div\", 6)(9, \"div\", 5)(10, \"h4\", 7);\n        i0.ɵɵtext(11, \"Pokedex Status\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"hr\");\n        i0.ɵɵtemplate(13, ListComponent_div_13_Template, 11, 11, \"div\", 8);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(14, \"div\", 5)(15, \"div\", 9)(16, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function ListComponent_Template_button_click_16_listener() {\n          return ctx.loadMore();\n        });\n        i0.ɵɵtemplate(17, ListComponent_div_17_Template, 1, 0, \"div\", 11);\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngForOf\", ctx.pokemons);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Loading...\" : \"Load More\", \" \");\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i2.TitleCasePipe],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["concat","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵclassMapInterpolate1","ctx_r4","getType","pokemon_r2","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","type_r5","type","name","ɵɵtemplate","ListComponent_div_13_span_8_Template","ɵɵelement","ctx_r0","ɵɵproperty","ɵɵpureFunction1","_c0","ɵɵtextInterpolate","types","ɵɵpropertyInterpolate1","id","ɵɵsanitizeUrl","ListComponent","constructor","pokemonService","loading","subscriptions","pokemons","subscription","push","ngOnInit","length","loadMore","ngOnDestroy","forEach","unsubscribe","getNext","subscribe","response","next","details","results","map","i","get","error","console","log","pokemon","_","ɵɵdirectiveInject","i1","PokemonService","_2","selectors","decls","vars","consts","template","ListComponent_Template","rf","ctx","ListComponent_div_13_Template","ɵɵlistener","ListComponent_Template_button_click_16_listener","ListComponent_div_17_Template"],"sources":["/home/ramb0/Desktop/AngularProject/pokedex-angular-app/src/app/components/list/list.component.ts","/home/ramb0/Desktop/AngularProject/pokedex-angular-app/src/app/components/list/list.component.html"],"sourcesContent":["\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { concat, Subscription } from 'rxjs';\nimport { PokemonService } from 'src/app/services/pokemon.service';\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.scss']\n})\nexport class ListComponent {\n  loading: boolean = false;\n\n  subscriptions: Subscription[] = [];\n\n  constructor(private pokemonService: PokemonService) { }\n\n  get pokemons(): any[] {\n    return this.pokemonService.pokemons;\n  }\n\n  set subscription(subscription: Subscription) {\n    this.subscriptions.push(subscription);\n  }\n\n  ngOnInit(): void {\n    if (!this.pokemons.length) {\n      this.loadMore();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.forEach(subscription => subscription ? subscription.unsubscribe() : 0);\n  }\n\n  loadMore(): void {\n    this.loading = true;\n    this.subscription = this.pokemonService.getNext().subscribe(response => {\n      this.pokemonService.next = response.next;\n      const details = response.results.map((i: any) => this.pokemonService.get(i.name));\n      this.subscription = concat(...details).subscribe((response: any) => {\n        this.pokemonService.pokemons.push(response);\n      });\n    }, error => console.log('Error Occurred:', error), () => this.loading = false);\n  }\n\n  getType(pokemon: any): string {\n    return this.pokemonService.getType(pokemon);\n  }\n\n}\n\n\n","\n<nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n        <img src=\"./assets/pikachu.png\" alt=\"pikachu\" height=\"50px\" width=\"50px\">\n    <div class=\"container-fluid\">\n      <a class=\"navbar-brand\" href=\"#\"><h2>PokedexApp</h2></a>\n   </div>\n  </nav>\n\n  <div class=\"container my-5\">\n    <div class=\"row\">\n        <div class=\"col-xl-8 offset-xl-2\">\n            <div class=\"row\">\n                <h4 class=\"mb-1\" style=\"color: rgb(246, 237, 62);\">Pokedex Status</h4>\n                <hr>\n                <div *ngFor=\"let pokemon of pokemons; let i = index\" class=\"col-md-6\">\n                    <div class=\"card mb-3 bg-{{getType(pokemon)}}\" [routerLink]=\"['/view', pokemon.name]\">\n                        <div class=\"card-body\">\n                            <div class=\"row\">\n                                <div class=\"col-7 col-sm-8\">\n                                    <h3 class=\"card-title\">{{pokemon.name | titlecase}}</h3>\n                                    <span *ngFor=\"let type of pokemon.types\"\n                                        class=\"badge border rounded-pill me-1 bg-{{getType(pokemon)}}\">\n                                        {{type.type.name | titlecase}}\n                                    </span>\n                                </div>\n                                <div class=\"col-5 col-sm-4\">\n                                    <img src=\"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/{{pokemon.id}}.png\"\n                                        class=\"img-fluid\" alt=\"\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-sm text-center\">\n            <button class=\"btn btn-sm btn-secondary\" (click)=\"loadMore()\">\n                <div class=\"spinner-border spinner-border-sm\" role=\"status\" *ngIf=\"loading\"></div>\n                {{loading ? 'Loading...' : 'Load More'}}\n            </button>\n        </div>\n    </div>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}