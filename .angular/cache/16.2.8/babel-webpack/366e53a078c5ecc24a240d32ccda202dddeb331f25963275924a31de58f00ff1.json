{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { concat } from 'rxjs';\nexport let ListComponent = class ListComponent {\n  constructor(pokemonService) {\n    this.pokemonService = pokemonService;\n    this.loading = false;\n    this.subscriptions = [];\n  }\n  get pokemons() {\n    return this.pokemonService.pokemons;\n  }\n  set subscription(subscription) {\n    this.subscriptions.push(subscription);\n  }\n  ngOnInit() {\n    if (!this.pokemons.length) {\n      this.loadMore();\n    }\n  }\n  ngOnDestroy() {\n    this.subscriptions.forEach(subscription => subscription ? subscription.unsubscribe() : 0);\n  }\n  loadMore() {\n    this.loading = true;\n    this.subscription = this.pokemonService.getNext().subscribe(response => {\n      this.pokemonService.next = response.next;\n      const details = response.results.map(i => this.pokemonService.get(i.name));\n      this.subscription = concat(...details).subscribe(response => {\n        this.pokemonService.pokemons.push(response);\n      });\n    }, error => console.log('Error Occurred:', error), () => this.loading = false);\n  }\n  getType(pokemon) {\n    return this.pokemonService.getType(pokemon);\n  }\n};\nListComponent = __decorate([Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.scss']\n})], ListComponent);","map":{"version":3,"names":["Component","concat","ListComponent","constructor","pokemonService","loading","subscriptions","pokemons","subscription","push","ngOnInit","length","loadMore","ngOnDestroy","forEach","unsubscribe","getNext","subscribe","response","next","details","results","map","i","get","name","error","console","log","getType","pokemon","__decorate","selector","templateUrl","styleUrls"],"sources":["/home/ramb0/Desktop/AngularProject/pokedex-angular-app/src/app/components/list/list.component.ts"],"sourcesContent":["\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { concat, Subscription } from 'rxjs';\nimport { PokemonService } from 'src/app/services/pokemon.service';\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.scss']\n})\nexport class ListComponent {\n  loading: boolean = false;\n\n  subscriptions: Subscription[] = [];\n\n  constructor(private pokemonService: PokemonService) { }\n\n  get pokemons(): any[] {\n    return this.pokemonService.pokemons;\n  }\n\n  set subscription(subscription: Subscription) {\n    this.subscriptions.push(subscription);\n  }\n\n  ngOnInit(): void {\n    if (!this.pokemons.length) {\n      this.loadMore();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.forEach(subscription => subscription ? subscription.unsubscribe() : 0);\n  }\n\n  loadMore(): void {\n    this.loading = true;\n    this.subscription = this.pokemonService.getNext().subscribe(response => {\n      this.pokemonService.next = response.next;\n      const details = response.results.map((i: any) => this.pokemonService.get(i.name));\n      this.subscription = concat(...details).subscribe((response: any) => {\n        this.pokemonService.pokemons.push(response);\n      });\n    }, error => console.log('Error Occurred:', error), () => this.loading = false);\n  }\n\n  getType(pokemon: any): string {\n    return this.pokemonService.getType(pokemon);\n  }\n\n}\n\n\n"],"mappings":";AACA,SAASA,SAAS,QAA2B,eAAe;AAC5D,SAASC,MAAM,QAAsB,MAAM;AAOpC,WAAMC,aAAa,GAAnB,MAAMA,aAAa;EAKxBC,YAAoBC,cAA8B;IAA9B,KAAAA,cAAc,GAAdA,cAAc;IAJlC,KAAAC,OAAO,GAAY,KAAK;IAExB,KAAAC,aAAa,GAAmB,EAAE;EAEoB;EAEtD,IAAIC,QAAQA,CAAA;IACV,OAAO,IAAI,CAACH,cAAc,CAACG,QAAQ;EACrC;EAEA,IAAIC,YAAYA,CAACA,YAA0B;IACzC,IAAI,CAACF,aAAa,CAACG,IAAI,CAACD,YAAY,CAAC;EACvC;EAEAE,QAAQA,CAAA;IACN,IAAI,CAAC,IAAI,CAACH,QAAQ,CAACI,MAAM,EAAE;MACzB,IAAI,CAACC,QAAQ,EAAE;;EAEnB;EAEAC,WAAWA,CAAA;IACT,IAAI,CAACP,aAAa,CAACQ,OAAO,CAACN,YAAY,IAAIA,YAAY,GAAGA,YAAY,CAACO,WAAW,EAAE,GAAG,CAAC,CAAC;EAC3F;EAEAH,QAAQA,CAAA;IACN,IAAI,CAACP,OAAO,GAAG,IAAI;IACnB,IAAI,CAACG,YAAY,GAAG,IAAI,CAACJ,cAAc,CAACY,OAAO,EAAE,CAACC,SAAS,CAACC,QAAQ,IAAG;MACrE,IAAI,CAACd,cAAc,CAACe,IAAI,GAAGD,QAAQ,CAACC,IAAI;MACxC,MAAMC,OAAO,GAAGF,QAAQ,CAACG,OAAO,CAACC,GAAG,CAAEC,CAAM,IAAK,IAAI,CAACnB,cAAc,CAACoB,GAAG,CAACD,CAAC,CAACE,IAAI,CAAC,CAAC;MACjF,IAAI,CAACjB,YAAY,GAAGP,MAAM,CAAC,GAAGmB,OAAO,CAAC,CAACH,SAAS,CAAEC,QAAa,IAAI;QACjE,IAAI,CAACd,cAAc,CAACG,QAAQ,CAACE,IAAI,CAACS,QAAQ,CAAC;MAC7C,CAAC,CAAC;IACJ,CAAC,EAAEQ,KAAK,IAAIC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,KAAK,CAAC,EAAE,MAAM,IAAI,CAACrB,OAAO,GAAG,KAAK,CAAC;EAChF;EAEAwB,OAAOA,CAACC,OAAY;IAClB,OAAO,IAAI,CAAC1B,cAAc,CAACyB,OAAO,CAACC,OAAO,CAAC;EAC7C;CAED;AAxCY5B,aAAa,GAAA6B,UAAA,EALzB/B,SAAS,CAAC;EACTgC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,C,EACWhC,aAAa,CAwCzB"},"metadata":{},"sourceType":"module","externalDependencies":[]}